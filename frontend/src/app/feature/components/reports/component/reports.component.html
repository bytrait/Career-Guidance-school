<ng-container *ngIf="isReportAvaiable && showReport">
    <div style="float: right; margin-right: 25px;">
        <button type="button" class="btn btn-primary mr-2" (click)="openChat()">Ask a question</button>
    </div>
    <div>
        <div class="container">
            <app-top3-personality-strengths></app-top3-personality-strengths>
        </div>
    </div>
    <div style="background-color:#f9f9f9;">
        <div class="container">
            <app-career-interests></app-career-interests>
        </div>
    </div>
    <div style="background-color:#ffffff;">
        <div class="container">
            <app-career-options></app-career-options>
        </div>
    </div>
    <div style="background-color:#f9f9f9;" id="careerModelPath">
        <div class="container mt-4">
            <app-careerpath-modal></app-careerpath-modal>
        </div>
    </div>

</ng-container>
<ng-container *ngIf="showChat">
    <div class="card card-test" style="height: 65vh; background: #f1f1f1; overflow: auto;">
        <div class="card-body">
            <div style="float: right; margin-right: 25px;">
                <button type="button" class="btn btn-primary mr-2" (click)="openReport()">
                    < Back to Report</button>
            </div>
            <div class="chat-div">
                <div class="left-chat-div">
                    <h3>Chat History</h3>
                </div>
                <div class="right-chat-div">
                    <div class="all-chats" *ngIf="chatData">
                        <div *ngFor="let chat of chatData.chatHistory">
                            <div>
                                <strong>Question:</strong> {{ chat.question }}
                                <small style="float: right;"><em>Asked on: {{ chat.chatTime }}</em></small>
                            </div>
                            <div>
                                <strong>Answer:</strong> {{ chat.answer }}
                            </div>
                            <hr>
                        </div>
                    </div>
                    <div *ngIf="!chatData">
                        <strong>No chat history available.</strong>
                    </div>

                    <div>
                        <b *ngIf="chatLimitExceeded">
                            <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 122.88 111.54" width="16" height="16">
                                <title>warning</title>
                                <path class="cls-1"
                                    d="M2.35,84.42,45.28,10.2l.17-.27h0A23,23,0,0,1,52.5,2.69,17,17,0,0,1,61.57,0a16.7,16.7,0,0,1,9.11,2.69,22.79,22.79,0,0,1,7,7.26q.19.32.36.63l42.23,73.34.24.44h0a22.48,22.48,0,0,1,2.37,10.19,17.63,17.63,0,0,1-2.17,8.35,15.94,15.94,0,0,1-6.93,6.6c-.19.1-.39.18-.58.26a21.19,21.19,0,0,1-9.11,1.75v0H17.61c-.22,0-.44,0-.65,0a18.07,18.07,0,0,1-6.2-1.15A16.42,16.42,0,0,1,3,104.24a17.53,17.53,0,0,1-3-9.57,23,23,0,0,1,1.57-8.74,7.66,7.66,0,0,1,.77-1.51Z" />
                                <path class="cls-2"
                                    d="M9,88.75,52.12,14.16c5.24-8.25,13.54-8.46,18.87,0l42.43,73.69c3.39,6.81,1.71,16-9.33,15.77H17.61C10.35,103.8,5.67,97.43,9,88.75Z" />
                                <path class="cls-3"
                                    d="M57.57,83.78A5.53,5.53,0,0,1,61,82.2a5.6,5.6,0,0,1,2.4.36,5.7,5.7,0,0,1,2,1.3,5.56,5.56,0,0,1,1.54,5,6.23,6.23,0,0,1-.42,1.35,5.57,5.57,0,0,1-5.22,3.26,5.72,5.72,0,0,1-2.27-.53A5.51,5.51,0,0,1,56.28,90a5.18,5.18,0,0,1-.36-1.27,5.83,5.83,0,0,1-.06-1.31h0a6.53,6.53,0,0,1,.57-2,4.7,4.7,0,0,1,1.14-1.56Zm8.15-10.24c-.19,4.79-8.31,4.8-8.49,0-.82-8.21-2.92-29.34-2.86-37.05.07-2.38,2-3.79,4.56-4.33a12.83,12.83,0,0,1,5,0c2.61.56,4.65,2,4.65,4.44v.24L65.72,73.54Z" />
                            </svg>
                            You have exhausted the limit of chat
                        </b>
                    </div>

                    <div style="padding-top: 10px;" *ngIf="!chatLimitExceeded">
                        <input type="text" style="    width: 90%;
                        display: inline;
                        margin-right: 10px;
                        margin-left: 10px;" class="form-control" [(ngModel)]="question" placeholder="Ask from ByTrait">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#0d6efd" class="bi bi-send"
                            viewBox="0 0 16 16" style="cursor: pointer; transform: rotate(45deg);" (click)="sendQuestion()">
                            <path
                                d="M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576zm6.787-8.201L1.591 6.602l4.339 2.76z" />
                        </svg>
                    </div>

                </div>

            </div>
        </div>

    </div>
</ng-container>
<ng-container *ngIf="!isReportAvaiable">
    <div class="d-flex align-content-center justify-content-center ">
        <div class="card" style="min-height: 70vh;">
            <div class="card-body d-flex flex-column align-items-center justify-content-center  ">
                <h4 class="mb-4">There is no
                    report available for you. You may want to start
                    with the assessment that will generate the report
                    for you.</h4>
                <button class="btn btn-primary w-25" (click)="gotAssessment()">Start Assessment</button>
            </div>
        </div>
    </div>
</ng-container>

<ng-container *ngIf="isLoader">
    <div class="loader-wrapper">
        <div class="spinner-border" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
</ng-container>